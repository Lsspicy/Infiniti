$.fn.extend({loading:function(n,i){var s={color:"",imgs:[],timer:500},s=$.extend(s,n),t=$('<div class="progress"><span class="'+s.color+'"><span>0%</span></span></div>'),e=0;t.css({position:"absolute",top:"45%",width:"80%",left:0,right:0,margin:"auto"});for(var r=0;r<s.imgs.length;r++){var a=new Image;a.src=s.imgs[r],a.onload=function(){e++;var n=parseInt(e/s.imgs.length*100)+"%";t.children().width(n),t.children().css("transition","0.1s"),t.children().children().html(n),e==s.imgs.length&&setTimeout(function(){i()},s.timer)}}$(this).append(t)}});